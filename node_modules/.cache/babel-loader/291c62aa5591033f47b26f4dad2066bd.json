{"ast":null,"code":"import _slicedToArray from\"/Users/steven/CMProject/chambermusic/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import  'bootstrap/dist/css/bootstrap.min.css';\nimport'./App.css';import HeaderApp from\"./AppHTML/HeaderApp\";import NavApp from\"./AppHTML/NavApp\";import MainApp from\"./AppHTML/MainApp\";import FooterApp from\"./AppHTML/FooterApp\";import React,{useState,useEffect}from\"react\";import{ReactComponent as LoadingIcon}from\"./images/loading.svg\";import{HashRouter}from\"react-router-dom\";import{UserContext}from\"./context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),teacher=_useState2[0],setTeacher=_useState2[1];var _useState3=useState({isLoading:true}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];// GET teacher database-----------------\nuseEffect(function(){if(state.isLoading){fetch(\"/api/小提琴\").then(function(res){return res.json();}).then(function(data){setTeacher(data);setState({isLoading:false});});};},[state]);//----------------------------------\nvar x=teacher;var instrumentCheck=[];var instrumentValues=teacher.map(function(data){if(instrumentCheck.indexOf(data.instrument)===-1){instrumentCheck.push(data.instrument);return data.instrument;}return false;}).filter(function(value){return value;});return/*#__PURE__*/_jsx(UserContext.Provider,{value:x,children:/*#__PURE__*/_jsxs(\"div\",{className:\"test\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"redoIconContainer\",children:state.isLoading?/*#__PURE__*/_jsx(LoadingIcon,{className:\"redoIcon\"}):/*#__PURE__*/_jsx(_Fragment,{})}),state.isLoading?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"routerContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mainContainer\",children:/*#__PURE__*/_jsxs(HashRouter,{children:[/*#__PURE__*/_jsx(HeaderApp,{}),/*#__PURE__*/_jsx(NavApp,{instrumentValues:instrumentValues}),/*#__PURE__*/_jsx(MainApp,{instrumentValues:instrumentValues})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FooterApp,{})})]})]})});}export default App;","map":{"version":3,"names":["HeaderApp","NavApp","MainApp","FooterApp","React","useState","useEffect","ReactComponent","LoadingIcon","HashRouter","UserContext","App","teacher","setTeacher","isLoading","state","setState","fetch","then","res","json","data","x","instrumentCheck","instrumentValues","map","indexOf","instrument","push","filter","value"],"sources":["/Users/steven/CMProject/chambermusic/src/App.js"],"sourcesContent":["\n// import  'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport HeaderApp from \"./AppHTML/HeaderApp\";\nimport NavApp from \"./AppHTML/NavApp\"; \nimport MainApp from \"./AppHTML/MainApp\";\nimport FooterApp from \"./AppHTML/FooterApp\";\n\n\nimport React, { useState, useEffect } from \"react\";\nimport { ReactComponent as LoadingIcon } from \"./images/loading.svg\";\nimport { HashRouter } from \"react-router-dom\";\nimport { UserContext } from \"./context\";\n\n\n\nfunction App() {\n  const [ teacher, setTeacher ] = useState([]);\n  const [ state, setState ] = useState({\n    isLoading: true,\n  });\n  // GET teacher database-----------------\n  useEffect(() => {\n    if (state.isLoading) {\n    fetch(\"/api/小提琴\")\n    .then((res) => res.json())\n    .then((data) => {\n      setTeacher(data);\n      setState({isLoading: false,});\n    });\n    };\n  }, [state]);\n  //----------------------------------\n\n  let x = teacher;\n  const instrumentCheck = [];  \n  const instrumentValues = teacher\n    .map((data) => {\n      if (instrumentCheck.indexOf(data.instrument) === -1) {\n        instrumentCheck.push(data.instrument);\n        return data.instrument;\n      }\n      return false;\n    })\n    .filter((value) => value);\n  \n  \n\n  return (\n    <UserContext.Provider value={x}>\n      <div className=\"test\">\n      {/* {console.log(\"Loading is \", state.isLoading)} */}\n      <div className=\"redoIconContainer\">\n        {state.isLoading ? <LoadingIcon className=\"redoIcon\"  /> : <></>}\n      </div>\n      {state.isLoading ? <></> : \n        <div className=\"routerContainer\">\n          <div className=\"mainContainer\">\n\n          \n          <HashRouter>\n            <HeaderApp />\n            <NavApp instrumentValues={instrumentValues} />\n            <MainApp instrumentValues={instrumentValues} />\n          </HashRouter>\n          </div>\n        <div>\n          <FooterApp />\n          </div>\n        </div>  \n      }\n      </div>\n    </UserContext.Provider>\n\n    \n  );\n}\n\n\nexport default App;\n"],"mappings":"0HACA;AACA,MAAO,WAAW,CAClB,MAAOA,UAAS,KAAM,qBAAqB,CAC3C,MAAOC,OAAM,KAAM,kBAAkB,CACrC,MAAOC,QAAO,KAAM,mBAAmB,CACvC,MAAOC,UAAS,KAAM,qBAAqB,CAG3C,MAAOC,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,cAAc,GAAIC,YAAW,KAAQ,sBAAsB,CACpE,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,WAAW,KAAQ,WAAW,CAAC,6IAIxC,QAASC,IAAG,EAAG,CACb,cAAgCN,QAAQ,CAAC,EAAE,CAAC,wCAApCO,OAAO,eAAEC,UAAU,eAC3B,eAA4BR,QAAQ,CAAC,CACnCS,SAAS,CAAE,IACb,CAAC,CAAC,yCAFMC,KAAK,eAAEC,QAAQ,eAGvB;AACAV,SAAS,CAAC,UAAM,CACd,GAAIS,KAAK,CAACD,SAAS,CAAE,CACrBG,KAAK,CAAC,UAAU,CAAC,CAChBC,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,CAAK,CACdR,UAAU,CAACQ,IAAI,CAAC,CAChBL,QAAQ,CAAC,CAACF,SAAS,CAAE,KAAM,CAAC,CAAC,CAC/B,CAAC,CAAC,CACF,CAAC,CACH,CAAC,CAAE,CAACC,KAAK,CAAC,CAAC,CACX;AAEA,GAAIO,EAAC,CAAGV,OAAO,CACf,GAAMW,gBAAe,CAAG,EAAE,CAC1B,GAAMC,iBAAgB,CAAGZ,OAAO,CAC7Ba,GAAG,CAAC,SAACJ,IAAI,CAAK,CACb,GAAIE,eAAe,CAACG,OAAO,CAACL,IAAI,CAACM,UAAU,CAAC,GAAK,CAAC,CAAC,CAAE,CACnDJ,eAAe,CAACK,IAAI,CAACP,IAAI,CAACM,UAAU,CAAC,CACrC,MAAON,KAAI,CAACM,UAAU,CACxB,CACA,MAAO,MAAK,CACd,CAAC,CAAC,CACDE,MAAM,CAAC,SAACC,KAAK,QAAKA,MAAK,GAAC,CAI3B,mBACE,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAER,CAAE,uBAC7B,aAAK,SAAS,CAAC,MAAM,wBAErB,YAAK,SAAS,CAAC,mBAAmB,UAC/BP,KAAK,CAACD,SAAS,cAAG,KAAC,WAAW,EAAC,SAAS,CAAC,UAAU,EAAI,cAAG,kBAAK,EAC5D,CACLC,KAAK,CAACD,SAAS,cAAG,kBAAK,cACtB,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,YAAK,SAAS,CAAC,eAAe,uBAG9B,MAAC,UAAU,yBACT,KAAC,SAAS,IAAG,cACb,KAAC,MAAM,EAAC,gBAAgB,CAAEU,gBAAiB,EAAG,cAC9C,KAAC,OAAO,EAAC,gBAAgB,CAAEA,gBAAiB,EAAG,GACpC,EACP,cACR,kCACE,KAAC,SAAS,IAAG,EACP,GACF,GAEF,EACe,CAI3B,CAGA,cAAeb,IAAG"},"metadata":{},"sourceType":"module"}